function t(t,e){for(var a=0;a<e.length;a++){var s=e[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function e(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var s,i,r=[],n=!0,h=!1;try{for(a=a.call(t);!(n=(s=a.next()).done)&&(r.push(s.value),!e||r.length!==e);n=!0);}catch(t){h=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(h)throw i}}return r}(t,e)||s(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t){return function(t){if(Array.isArray(t))return i(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||s(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){if(t){if("string"==typeof t)return i(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?i(t,e):void 0}}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,s=new Array(e);a<e;a++)s[a]=t[a];return s}var r="rect",n="circle",h="ellipse",o="text",p="image",l="poly",c="polyline",d="polygon",u={isEditMode:!1,shape:r,shapeText:"press on link",shapeStyle:{fill:"#ffffff","fill-opacity":.2,stroke:"#ffffff","stroke-width":3},onClick:function(t,e){},onMouseDown:function(t,e,a){},onMouseMove:function(t,e,a){},onMouseUp:function(t,e,a){},onSelect:function(t,e){}},f=[0,0,20,20],m=[0,0,10],y=[0,0,5,5],v=[0,0,12],g="http://www.w3.org/2000/svg",x="http://www.w3.org/1999/xlink";function b(s){var i=function(){function e(t,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=s(t),this.mapEl=null,this.svgEl=null,this.options=s.extend(!0,{},u,a),this.shapeType=this.options.shape,this.isEditMode=this.options.isEditMode,this.shapeStyle=this.options.shapeStyle,this.shapeText="",this.shapeImageUrl="",this.shapeCoords=null,this.vertexCoords=null,this.grabType=null,this.containerWidth=0,this.containerHeight=0,this.touchStartCoords={x:null,y:null},this.dragInfo={face:{x:null,y:null},vertex:{x:null,y:null}},this.shapeLimitCoords={x:30,y:30,radius:15},this.allShapeInfo={}}var a,i,r;return a=e,(i=[{key:"createMaps",value:function(t,e){var a=this.container.width();Number.isNaN(a)||!a?this.container.one("load",s.proxy(b,this,t,e)):b.call(this,t,e)}},{key:"setShapeType",value:function(t){this.shapeType=t}},{key:"setShapeStyle",value:function(t){t=t||{},this.shapeStyle=s.extend({},!0,this.shapeStyle,t)}},{key:"setUrl",value:function(t,e){}},{key:"setTextShape",value:function(t,e){this.setShapeStyle(e),this.shapeText=t}},{key:"setImageShape",value:function(t,e){this.setShapeStyle(e),this.shapeImageUrl=t}},{key:"addShape",value:function(t,e,a){a&&this.setShapeType(a),this.createMaps(t,e)}},{key:"removeShape",value:function(t){if(this.shapeEl){void 0===t&&(t=this.shapeEl.data("index"));var e=this.mapEl.find('area[data-index="'+t+'"]'),a=this.svgEl.find('._shape_face[data-index="'+t+'"]');this.detachEvents(a,[{type:"click touchend"}]),a.parent().remove(),e.remove(),this.removeShapeInfo(t)}}},{key:"removeAllShapes",value:function(){var t=this;this.shapeEl&&(this.svgEl.find("._shape_face").each((function(e,a){t.removeShape(s(a).data("index"))})),this.allShapeInfo={})}},{key:"removeImageMaps",value:function(){this.removeAllShapes(),this.svgEl&&this.svgEl.remove()}},{key:"updateShapeInfo",value:function(t,e,a){var i=this.allShapeInfo;e.index=t,i["shape"+t]?i["shape"+t]=s.extend(!0,{},i["shape"+t],e,a):i["shape"+t]=s.extend(!0,e,a)}},{key:"removeShapeInfo",value:function(t){delete this.allShapeInfo["shape"+t]}},{key:"getShapeInfo",value:function(t){return this.allShapeInfo["shape"+t]}},{key:"getAllShapesInfo",value:function(){return s.extend(!0,{},this.allShapeInfo)}},{key:"zoom",value:function(t){F.call(this,t)}},{key:"enableClick",value:function(){this.attachEvents(this.svgEl.find("._shape_face"),[{type:"touchstart",handler:T},{type:"click touchend",handler:M}])}},{key:"disableClick",value:function(){this.detachEvents(this.svgEl.find("._shape_face"),[{type:"touchstart",handler:T},{type:"click touchend",handler:M}])}},{key:"setShapeCoords",value:function(t){this.shapeCoords=t}},{key:"setVertexCoords",value:function(t){this.vertexCoords=t}},{key:"setShapeElement",value:function(t){this.shapeEl=t}},{key:"setVertexElement",value:function(t){this.vertexEl=t}},{key:"setVertexElements",value:function(t){this.vertexEls=t}},{key:"attachEvents",value:function(t,e){var a=this;t=s(t),e.forEach((function(e){var i=e.type,r=e.handler;t.on(i+".area",s.proxy(r,a))}))}},{key:"detachEvents",value:function(t,e){var a=this;t=s(t),e.forEach((function(e){var i=e.type,r=e.handler,n=i||"",h=r?s.proxy(r,a):"";h?t.off(n+".area",h):t.off(n+".area")}))}}])&&t(a.prototype,i),r&&t(a,r),e}();function b(t,e){var i=function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).slice(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}();if(this.container.attr("usemap")){var l=this.container.attr("usemap").replace("#","");this.mapEl=s("body").find("map[name="+l+"]")}else this.mapEl=s("<map name="+i+"></map>").insertAfter(this.container),this.container.attr("usemap","#"+i);this.containerWidth=this.container.width(),this.containerHeight=this.container.height();var c=this.containerWidth,d=this.containerHeight,u=c/2,g=d/2,x=this.shapeType,b=[],S=!1;if(t=function(t){if(!t)return null;return a(t).map((function(t){return Number.parseFloat(t)}))}(t),Array.isArray(t))x===r||x===p?b=s.extend([],f,t):x===n?b=s.extend([],m,t):x===h?b=s.extend([],y,t):x===o&&(t[0]||(t[0]=u,S=!0),t[1]||(t[1]=g,S=!0),t[2]||(t[2]=20),b=s.extend([],v,t));else{var I=.1*c,_=.1*d,k=I>=_?_:I;if(x===r)b=s.extend([],f,[u-I,g-_,u+I,g+_]);else if(x===n)b=s.extend([],m,[u,g,k]);else if(x===h)b=s.extend([],y,[u,g,k,k]);else if(x===p){var N=function(t){var e=new Image;if("naturalWidth"in e&&"string"!=typeof t)return{width:t.naturalWidth,height:t.naturalHeight};"string"==typeof t&&(t={src:t});return e.src=t.src,{width:e.width,height:e.height}}(this.shapeImageUrl);b=[u-(I=N.width/2),g-(_=N.height/2),u+I,g+_]}}var T=this.mapEl.find("._shape_face").length,M=x,A={};x!==o&&x!==p||(M=r,A=x===o?{text:this.shapeText}:{href:this.shapeImageUrl}),C.call(this,b,i,e,T),this.setShapeCoords(b),this.updateShapeInfo(T,{coords:b,type:x,url:e,style:this.shapeStyle},A),S&&this.isEditMode&&x===o&&w.call(this),x===h&&(M=n,b=[b[0],b[1],y[2],y[2]]),E.call(this,M,b,e,T)}function C(t,e,a,i){var r=this.container.width(),n=this.container.height();if(void 0!==document.createElementNS){var h=this.mapEl.find("svg").get(0),o=s(h),p=this.shapeType;h||(h=document.createElementNS(g,"svg"),o=s(h),this.svgEl=o,this.isEditMode?this.attachEvents(o,[{type:"mousedown",handler:A}]):this.attachEvents(this.mapEl,[{type:"touchstart",handler:T},{type:"click touchend",handler:M}]),this.attachEvents(window,[{type:"resize",handler:z}])),h.setAttribute("width",r),h.setAttribute("height",n);var l=this.container.position();o.attr({xmlns:g,"xmlns:xlink":x,version:"1.1","data-Id":e}).css({position:"absolute",zIndex:1e3,overflow:"hidden",top:l.top,left:l.left});var c=S.call(this,p,t,a,i);o.append(c),this.mapEl.append(o)}}function E(t,e,a,i){s("<area shape="+t+" coords="+e.join(",")+" href="+(a||"#")+" data-index="+i+" "+(a?'target="_blank"':"")+">").appendTo(this.mapEl)}function S(t,e,i,r){t===l&&(t=c);var n=s(document.createElementNS(g,t)),h=s(document.createElementNS(g,"g"));I.call(this,e,n);var p="default";if(this.isEditMode?p="move":""!==i&&(p="pointer"),this.setShapeStyle({cursor:p}),n.css(this.shapeStyle),t===o&&n.css({"fill-opacity":"","stroke-opacity":""}),n.attr("data-index",r),h.append(n),this.setShapeElement(n),this.isEditMode&&"text"!==t){var d=function(t,e,a){var i=k(t,e),r=i.map((function(){var t=s(document.createElementNS(g,"rect"));return t.attr("data-index",a).css({fill:"#ffffff",stroke:"#000000","stroke-width":2}),t}));return _(i,r),r}(t,e,r);h.append.apply(h,a(d)),this.setVertexElements(d)}return h}function I(t,e,a){e=e||this.shapeEl;var s=a?a.type:this.shapeType;s===r||s===p?(e.attr({x:t[0],y:t[1],class:"_shape_face"}),t[2]&&e.attr("width",t[2]-t[0]),t[3]&&e.attr("height",t[3]-t[1]),s===p&&(e.get(0).setAttributeNS(x,"href",a?a.href:this.shapeImageUrl),e.get(0).setAttribute("preserveAspectRatio","none"))):s===n?(e.attr({cx:t[0],cy:t[1],class:"_shape_face"}),t[2]&&e.attr("r",t[2])):s===h?(e.attr({cx:t[0],cy:t[1],class:"_shape_face"}),t[2]&&e.attr("rx",t[2]),t[3]&&e.attr("ry",t[3])):s===o&&(e.attr({x:t[0],y:t[1],"font-size":t[2],class:"_shape_face"}),e.text(a&&a.text||this.shapeText))}function w(){var t=this.shapeEl,e=t.get(0).getBBox().width/2,a=.5*Number.parseFloat(t.attr("font-size"))/2,s=Number.parseInt(t.attr("x"))-e,i=Number.parseInt(t.attr("y"))+a;this.updateShapeInfo(t.data("index"),{coords:[s,i,t.attr("font-size")]}),t.attr({x:s,y:i})}function _(t,e,a){t.forEach((function(t,a){s(e[a]).attr({x:t.x-3,y:t.y-3,width:7,height:7,"data-direction":t.type,class:"_shape_vertex"}).css("cursor",t.type+"-resize")}))}function k(t,e){var a=[];return t===r||t===p?a=[{x:e[0],y:e[1],type:"nw"},{x:e[0],y:e[3],type:"sw"},{x:e[2],y:e[1],type:"ne"},{x:e[2],y:e[3],type:"se"},{x:(e[2]-e[0])/2+e[0],y:e[1],type:"n"},{x:(e[2]-e[0])/2+e[0],y:e[3],type:"s"},{x:e[0],y:(e[3]-e[1])/2+e[1],type:"w"},{x:e[2],y:(e[3]-e[1])/2+e[1],type:"e"}]:t===n?a=[{x:e[0],y:e[1]-e[2],type:"n"},{x:e[0],y:e[1]+e[2],type:"s"},{x:e[0]-e[2],y:e[1],type:"w"},{x:e[0]+e[2],y:e[1],type:"e"}]:t===h&&(a=[{x:e[0],y:e[1]-e[3],type:"n"},{x:e[0],y:e[1]+e[3],type:"s"},{x:e[0]-e[2],y:e[1],type:"w"},{x:e[0]+e[2],y:e[1],type:"e"}]),a}function N(t,e,a){var s=this.svgEl.find('._shape_face[data-index="'+e.data("index")+'"]');(a=a||this.shapeType)===o?t=function(t){var e=Number.parseFloat(t.attr("x")),a=Number.parseFloat(t.attr("y")),s=t.get(0).getBBox().width,i=.5*Number.parseFloat(t.attr("font-size"))/2;return[e,a-i,e+s,a]}(s):a===h&&(t=[t[0],t[1],y[2]]),e.attr("coords",t.join(","))}function T(t){var e=t.originalEvent.touches[0];this.touchStartCoords.x=e.pageX,this.touchStartCoords.y=e.pageY}function M(t){var e=s(t.currentTarget);if("area"!==t.currentTarget.tagName.toLowerCase()){if(t.preventDefault(),this.dragInfo.face.x&&this.dragInfo.face.x!==t.pageX||this.dragInfo.face.y&&this.dragInfo.face.y!==t.pageY||"svg"===t.target.tagName.toLowerCase()||"touchend"===t.type&&t.originalEvent.changedTouches[0].pageX!==this.touchStartCoords.x&&t.originalEvent.changedTouches[0].pageY!==this.touchStartCoords.y)return;var a=s(t.target).attr("data-index");"#"!==(e=this.mapEl.find('area[data-index="'+a+'"]')).attr("href")&&window.open(e.attr("href"))}this.options.onClick.call(this,t,e.attr("href"))}function A(t){if(t.preventDefault(),"svg"!==t.target.tagName.toLowerCase()){var e=s(t.target),a=e.attr("data-index"),i=this.getShapeInfo(a),c=e.parent().find(":first-child"),u=[],f=c.get(0).tagName.toLowerCase();if(f===r||f===p){var m=Number.parseInt(c.attr("x")),y=Number.parseInt(c.attr("y"));u=[m,y,m+Number.parseInt(c.attr("width")),y+Number.parseInt(c.attr("height"))],f===p&&this.setImageShape(c.attr("href"))}else if(f===n){u=[Number.parseInt(c.attr("cx")),Number.parseInt(c.attr("cy")),Number.parseInt(c.attr("r"))]}else if(f===h){u=[Number.parseInt(c.attr("cx")),Number.parseInt(c.attr("cy")),Number.parseInt(c.attr("rx")),Number.parseInt(c.attr("ry"))]}else if(f===o){u=[Number.parseFloat(c.attr("x")),Number.parseFloat(c.attr("y")),Number.parseFloat(c.attr("font-size"))],this.shapeText=c.text()}else f===d&&(f=l);if(this.setShapeType(f),this.setShapeElement(c),this.setShapeCoords(u),f!==o){c.attr("data-fill",c.css("fill")),c.css("fill","#ffffff"),this.setVertexCoords(k(f,u));var v=[];this.mapEl.find('._shape_vertex[data-index="'+a+'"]').each((function(){v.push(s(this))})),this.setVertexElements(v)}e.is("._shape_face")?(this.grabType="face",W.call(this,e,t.pageX,t.pageY)):e.is("._shape_vertex")&&(this.grabType="vertex",H.call(this,e,a)),this.attachEvents(this.mapEl.parent(),[{type:"mouseup",handler:U},{type:"mousemove",handler:L}]),this.options.onSelect.call(this,t,i),this.options.onMouseDown.call(this,t,f,u)}}function U(t){var e=s(t.target),a=this.shapeEl;a.css("fill",a.attr("data-fill")),e.attr("data-movable",!1);var i=B.call(this);this.setShapeCoords(i),this.updateShapeInfo(a.data("index"),{coords:i}),this.detachEvents(this.mapEl.parent(),[{type:"mouseup",handler:U},{type:"mousemove",handler:L}]),this.options.onMouseUp.call(this,t,this.shapeType,i)}function L(t){var a=s(t.target),i=e(this.shapeCoords,2),r=i[0],n=i[1],h=this.grabType,p=this.shapeType,l={};if("face"===h||"vertex"===h){if("face"===h){var c=r+t.pageX,d=n+t.pageY;l=j.call(this,c-this.dragInfo.face.x,d-this.dragInfo.face.y)}else"vertex"===h&&(l=X.call(this,t.pageX-this.svgEl.offset().left,t.pageY-this.svgEl.offset().top));if(!l)return;p!==o&&(this.setVertexCoords(l.vertexCoords),_(l.vertexCoords,this.vertexEls,this.shapeType));var u=Number.parseInt(l.grabEl.attr("data-index"));I.call(this,l.movedCoords,this.svgEl.find('._shape_face[data-index="'+u+'"]')),N.call(this,l.movedCoords,this.mapEl.find('area[data-index="'+u+'"]')),(a.is("._shape_face")||a.is("._shape_vertex"))&&(Math.abs(this.dragInfo.face.x-t.pageX)<=1||Math.abs(this.dragInfo.face.y-t.pageY)<=1)&&this.svgEl.append(a.parent()),this.options.onMouseMove.call(this,t,p,l.movedCoords)}}function z(t){var e=this.container.width(),a=this.container.height();this.containerWidth===e&&this.containerHeight===a||V.call(this,e,a)}function F(t){var e=this,a=t[0],s=t.length<2?a:t[1],i=.01*a*this.container.width(),r=.01*s*this.container.height();this.container.css({width:i+"px",height:r+"px"}),setTimeout((function(){e.svgEl&&e.svgEl.length>0&&V.call(e,i,r)}))}function V(t,e){var a=this,i=this.allShapeInfo,r=t/this.containerWidth,n=e/this.containerHeight,h=this.container.position();this.svgEl.get(0).setAttribute("width",t),this.svgEl.get(0).setAttribute("height",e),this.svgEl.css({top:h.top,left:h.left}),s.each(i,(function(t,e){e.coords=R(e.coords,e.type,r,n),_(k(e.type,e.coords),a.svgEl.find('._shape_vertex[data-index="'+e.index+'"]'),e.type),I.call(a,e.coords,a.svgEl.find('._shape_face[data-index="'+e.index+'"]'),e),N.call(a,e.coords,a.mapEl.find('area[data-index="'+e.index+'"]'),e.type)})),this.containerWidth=t,this.containerHeight=e}function W(t,e,a){this.dragInfo.face.x=e,this.dragInfo.face.y=a,t.attr("data-movable",!0)}function j(t,e){var a=this.shapeEl;if("false"!==a.attr("data-movable")){var s=[],i=[],l=this.shapeType;if(l===r||l===p){var c=Number.parseInt(a.attr("width")),d=Number.parseInt(a.attr("height"));i=k(r,s=[t,e,t+c,e+d])}else l===n?(s=[t,e,Number.parseInt(a.attr("r"))],i=k(n,s)):l===h?(s=[t,e,Number.parseInt(a.attr("rx")),Number.parseInt(a.attr("ry"))],i=k(h,s)):l===o&&(s=[t,e]);return{movedCoords:s,vertexCoords:i,grabEl:a}}}function B(){var t=this.shapeEl,e=this.shapeType,a=[];if(e===r||e===p){var s=Number.parseInt(t.attr("x")),i=Number.parseInt(t.attr("y"));a=[s,i,s+Number.parseInt(t.attr("width")),i+Number.parseInt(t.attr("height"))]}else e===n?a=[Number.parseInt(t.attr("cx")),Number.parseInt(t.attr("cy")),Number.parseInt(t.attr("r"))]:e===h?a=[Number.parseInt(t.attr("cx")),Number.parseInt(t.attr("cy")),Number.parseInt(t.attr("rx")),Number.parseInt(t.attr("ry"))]:e===o&&(a=[Number.parseInt(t.attr("x")),Number.parseInt(t.attr("y"))]);return a}function H(t,e){this.setVertexElement(t);var a=0;this.vertexEls.forEach((function(e,s){t.get(0)===e.get(0)&&(a=s)}));var s=this.vertexCoords[a];this.dragInfo.vertex.x=s.x,this.dragInfo.vertex.y=s.y,t.attr("data-movable",!0)}function X(t,e){if("false"!==this.vertexEl.attr("data-movable")){var a=[],s=this.shapeType,i=this.vertexEl.attr("data-direction");if(s===r||s===p)switch(i){case"nw":a=Y.call(this,[t,e,this.shapeCoords[2],this.shapeCoords[3]],i);break;case"sw":a=Y.call(this,[t,this.shapeCoords[1],this.shapeCoords[2],e],i);break;case"ne":a=Y.call(this,[this.shapeCoords[0],e,t,this.shapeCoords[3]],i);break;case"se":a=Y.call(this,[this.shapeCoords[0],this.shapeCoords[1],t,e],i);break;case"n":a=Y.call(this,[this.shapeCoords[0],e,this.shapeCoords[2],this.shapeCoords[3]],i);break;case"s":a=Y.call(this,[this.shapeCoords[0],this.shapeCoords[1],this.shapeCoords[2],e],i);break;case"w":a=Y.call(this,[t,this.shapeCoords[1],this.shapeCoords[2],this.shapeCoords[3]],i);break;case"e":a=Y.call(this,[this.shapeCoords[0],this.shapeCoords[1],t,this.shapeCoords[3]],i);break;default:console.warn("Unexpected direction",i)}else if(s===n)switch(i){case"n":a=[this.shapeCoords[0],this.shapeCoords[1],D.call(this,this.shapeCoords[1]-e)];break;case"s":a=[this.shapeCoords[0],this.shapeCoords[1],D.call(this,e-this.shapeCoords[1])];break;case"w":a=[this.shapeCoords[0],this.shapeCoords[1],D.call(this,this.shapeCoords[0]-t)];break;case"e":a=[this.shapeCoords[0],this.shapeCoords[1],D.call(this,t-this.shapeCoords[0])];break;default:console.warn("Unexpected direction",i)}else if(s===h)switch(i){case"n":a=[this.shapeCoords[0],this.shapeCoords[1],this.shapeCoords[2],D.call(this,this.shapeCoords[1]-e)];break;case"s":a=[this.shapeCoords[0],this.shapeCoords[1],this.shapeCoords[2],D.call(this,e-this.shapeCoords[1])];break;case"w":a=[this.shapeCoords[0],this.shapeCoords[1],D.call(this,this.shapeCoords[0]-t),this.shapeCoords[3]];break;case"e":a=[this.shapeCoords[0],this.shapeCoords[1],D.call(this,t-this.shapeCoords[0]),this.shapeCoords[3]];break;default:console.warn("Unexpected direction",i)}return{movedCoords:a,vertexCoords:k(s,a),grabEl:this.vertexEl}}}function Y(t,a){var s=e(t,4),i=s[0],r=s[1],n=s[2],h=s[3];return n-i<=this.shapeLimitCoords.x&&("se"!==a&&"ne"!==a&&"e"!==a||(n=i+this.shapeLimitCoords.x),"nw"!==a&&"sw"!==a&&"w"!==a||(i=n-this.shapeLimitCoords.x)),h-r<=this.shapeLimitCoords.y&&("se"!==a&&"sw"!==a&&"s"!==a||(h=r+this.shapeLimitCoords.y),"nw"!==a&&"ne"!==a&&"n"!==a||(r=h-this.shapeLimitCoords.y)),[i,r,n,h]}function D(t){return t<=this.shapeLimitCoords.radius?this.shapeLimitCoords.radius:t}function R(t,e,a,s){var i=[];if(e===r||e===p||e===h)i=[t[0]*a,t[1]*s,t[2]*a,t[3]*s];else if(e===n){var l;l=a>=s?s:a,1===a&&(l=s),1===s&&(l=a),i=[t[0]*a,t[1]*s,t[2]*l]}else e===o&&(i=[t[0]*a,t[1]*s,t[2]*a]);return i}return i.getCoordsByRatio=R,s.fn.extend({createMaps:function(t,e){return this.data("image_maps_inst").createMaps(t,e),this},copyImageMapsTo:function(t){return s.imageMaps.copyImageMaps({shapes:this.getAllShapes(),width:this.width(),height:this.height()},t),this},addShape:function(t,e,a){return this.data("image_maps_inst").addShape(t,e,a),this},removeShape:function(t){return this.data("image_maps_inst").removeShape(t),this},removeAllShapes:function(){return this.data("image_maps_inst").removeAllShapes(),this},destroy:function(){var t=this.data("image_maps_inst");t&&(t.removeImageMaps(),this.data("image_maps_inst",null))},setShapeStyle:function(t){return this.data("image_maps_inst").setShapeStyle(t),this},setUrl:function(t,e){return this.data("image_maps_inst").setUrl(t,e),this},setTextShape:function(t,e){return this.data("image_maps_inst").setTextShape(t,e),this},setImageShape:function(t,e){return this.data("image_maps_inst").setImageShape(t,e),this},enableClick:function(){this.data("image_maps_inst").enableClick()},disableClick:function(){this.data("image_maps_inst").disableClick()},getAllShapes:function(){return this.data("image_maps_inst").getAllShapesInfo()},getCoordsByRatio:function(t,e,a,s){return i.getCoordsByRatio(t,e,a,s)},zoom:function(t){this.data("image_maps_inst").zoom(t)}}),s.imageMaps={copyImageMaps:function(t,e){var a=t.shapes,i=t.width,r=t.height;e.removeAllShapes(),s.each(a,(function(t,a){e.setShapeStyle(a.style),a.href&&e.setImageShape(a.href),a.text&&e.setTextShape(a.text);var s=i,n=r,h=R(a.coords,a.type,e.width()/s,e.height()/n);e.addShape(h,a.url,a.type)}))}},s.fn.imageMaps=function(t){if(1===this.length){if(!this.data("image_maps_inst")){var e=new i(this,t);return this.data("image_maps_inst",e),e}return this.data("image_maps_inst")}if(this.length>1)throw new Error("imageMaps instance has already been created.")},s}export default b;
//# sourceMappingURL=index.esm.min.js.map
