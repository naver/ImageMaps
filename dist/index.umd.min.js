!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).jqueryImageMaps=e()}(this,(function(){"use strict";function t(t,e){for(var a=0;a<e.length;a++){var s=e[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function e(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var s,i,r=[],n=!0,h=!1;try{for(a=a.call(t);!(n=(s=a.next()).done)&&(r.push(s.value),!e||r.length!==e);n=!0);}catch(t){h=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(h)throw i}}return r}(t,e)||s(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t){return function(t){if(Array.isArray(t))return i(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||s(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){if(t){if("string"==typeof t)return i(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?i(t,e):void 0}}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,s=new Array(e);a<e;a++)s[a]=t[a];return s}var r="_shape_face",n="_shape_vertex",h="area",o="rect",p="circle",l="ellipse",c="text",d="image",u="poly",f="polyline",m="polygon",y={isEditMode:!1,shape:o,shapeText:"press on link",shapeStyle:{fill:"#ffffff","fill-opacity":.2,stroke:"#ffffff","stroke-width":3},onClick:function(t,e){},onMouseDown:function(t,e,a){},onMouseMove:function(t,e,a){},onMouseUp:function(t,e,a){},onSelect:function(t,e){}},v=[0,0,20,20],g=[0,0,10],x=[0,0,5,5],b=[0,0,12],C="http://www.w3.org/2000/svg",E="http://www.w3.org/1999/xlink";return function(s){var i=function(){function e(t,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=s(t),this.mapEl=null,this.svgEl=null,this.options=s.extend(!0,{},y,a),this.shapeType=this.options.shape,this.isEditMode=this.options.isEditMode,this.shapeStyle=this.options.shapeStyle,this.shapeText="",this.shapeImageUrl="",this.shapeCoords=null,this.vertexCoords=null,this.grabType=null,this.containerWidth=0,this.containerHeight=0,this.touchStartCoords={x:null,y:null},this.dragInfo={face:{x:null,y:null},vertex:{x:null,y:null}},this.shapeLimitCoords={x:30,y:30,radius:15},this.allShapeInfo={}}var a,i,r;return a=e,(i=[{key:"createMaps",value:function(t,e){var a=this.container.width();Number.isNaN(a)||!a?this.container.one("load",s.proxy(S,this,t,e)):S.call(this,t,e)}},{key:"setShapeType",value:function(t){this.shapeType=t}},{key:"setShapeStyle",value:function(t){t=t||{},this.shapeStyle=s.extend({},!0,this.shapeStyle,t)}},{key:"setUrl",value:function(t,e){}},{key:"setTextShape",value:function(t,e){this.setShapeStyle(e),this.shapeText=t}},{key:"setImageShape",value:function(t,e){this.setShapeStyle(e),this.shapeImageUrl=t}},{key:"addShape",value:function(t,e,a){a&&this.setShapeType(a),this.createMaps(t,e)}},{key:"removeShape",value:function(t){if(this.shapeEl){void 0===t&&(t=this.shapeEl.data("index"));var e=this.mapEl.find('area[data-index="'+t+'"]'),a=this.svgEl.find('._shape_face[data-index="'+t+'"]');this.detachEvents(a,[{type:"click touchend"}]),a.parent().remove(),e.remove(),this.removeShapeInfo(t)}}},{key:"removeAllShapes",value:function(){var t=this;this.shapeEl&&(this.svgEl.find("._shape_face").each((function(e,a){t.removeShape(s(a).data("index"))})),this.allShapeInfo={})}},{key:"removeImageMaps",value:function(){this.removeAllShapes(),this.svgEl&&this.svgEl.remove()}},{key:"updateShapeInfo",value:function(t,e,a){var i=this.allShapeInfo;e.index=t,i["shape"+t]?i["shape"+t]=s.extend(!0,{},i["shape"+t],e,a):i["shape"+t]=s.extend(!0,e,a)}},{key:"removeShapeInfo",value:function(t){delete this.allShapeInfo["shape"+t]}},{key:"getShapeInfo",value:function(t){return this.allShapeInfo["shape"+t]}},{key:"getAllShapesInfo",value:function(){return s.extend(!0,{},this.allShapeInfo)}},{key:"zoom",value:function(t){W.call(this,t)}},{key:"enableClick",value:function(){this.attachEvents(this.svgEl.find("._shape_face"),[{type:"touchstart",handler:U},{type:"click touchend",handler:L}])}},{key:"disableClick",value:function(){this.detachEvents(this.svgEl.find("._shape_face"),[{type:"touchstart",handler:U},{type:"click touchend",handler:L}])}},{key:"setShapeCoords",value:function(t){this.shapeCoords=t}},{key:"setVertexCoords",value:function(t){this.vertexCoords=t}},{key:"setShapeElement",value:function(t){this.shapeEl=t}},{key:"setVertexElement",value:function(t){this.vertexEl=t}},{key:"setVertexElements",value:function(t){this.vertexEls=t}},{key:"attachEvents",value:function(t,e){var a=this;t=s(t),e.forEach((function(e){var i=e.type,r=e.handler;t.on(i+"."+h,s.proxy(r,a))}))}},{key:"detachEvents",value:function(t,e){var a=this;t=s(t),e.forEach((function(e){var i=e.type,r=e.handler,n=i||"",o=r?s.proxy(r,a):"";o?t.off(n+"."+h,o):t.off(n+"."+h)}))}}])&&t(a.prototype,i),r&&t(a,r),e}();function S(t,e){var i=function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).slice(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}();if(this.container.attr("usemap")){var r=this.container.attr("usemap").replace("#","");this.mapEl=s("body").find("map[name="+r+"]")}else this.mapEl=s("<map name="+i+"></map>").insertAfter(this.container),this.container.attr("usemap","#"+i);this.containerWidth=this.container.width(),this.containerHeight=this.container.height();var n=this.containerWidth,h=this.containerHeight,u=n/2,f=h/2,m=this.shapeType,y=[],C=!1;if(t=function(t){if(!t)return null;return a(t).map((function(t){return Number.parseFloat(t)}))}(t),Array.isArray(t))m===o||m===d?y=s.extend([],v,t):m===p?y=s.extend([],g,t):m===l?y=s.extend([],x,t):m===c&&(t[0]||(t[0]=u,C=!0),t[1]||(t[1]=f,C=!0),t[2]||(t[2]=20),y=s.extend([],b,t));else{var E=.1*n,S=.1*h,_=E>=S?S:E;if(m===o)y=s.extend([],v,[u-E,f-S,u+E,f+S]);else if(m===p)y=s.extend([],g,[u,f,_]);else if(m===l)y=s.extend([],x,[u,f,_,_]);else if(m===d){var k=function(t){var e=new Image;if("naturalWidth"in e&&"string"!=typeof t)return{width:t.naturalWidth,height:t.naturalHeight};"string"==typeof t&&(t={src:t});return e.src=t.src,{width:e.width,height:e.height}}(this.shapeImageUrl);y=[u-(E=k.width/2),f-(S=k.height/2),u+E,f+S]}}var T=this.mapEl.find("._shape_face").length,M=m,A={};m!==c&&m!==d||(M=o,A=m===c?{text:this.shapeText}:{href:this.shapeImageUrl}),I.call(this,y,i,e,T),this.setShapeCoords(y),this.updateShapeInfo(T,{coords:y,type:m,url:e,style:this.shapeStyle},A),C&&this.isEditMode&&m===c&&N.call(this),m===l&&(M=p,y=[y[0],y[1],x[2],x[2]]),w.call(this,M,y,e,T)}function I(t,e,a,i){var r=this.container.width(),n=this.container.height();if(void 0!==document.createElementNS){var h=this.mapEl.find("svg").get(0),o=s(h),p=this.shapeType;h||(h=document.createElementNS(C,"svg"),o=s(h),this.svgEl=o,this.isEditMode?this.attachEvents(o,[{type:"mousedown",handler:z}]):this.attachEvents(this.mapEl,[{type:"touchstart",handler:U},{type:"click touchend",handler:L}]),this.attachEvents(window,[{type:"resize",handler:V}])),h.setAttribute("width",r),h.setAttribute("height",n);var l=this.container.position();o.attr({xmlns:C,"xmlns:xlink":E,version:"1.1","data-Id":e}).css({position:"absolute",zIndex:1e3,overflow:"hidden",top:l.top,left:l.left});var c=_.call(this,p,t,a,i);o.append(c),this.mapEl.append(o)}}function w(t,e,a,i){s("<area shape="+t+" coords="+e.join(",")+" href="+(a||"#")+" data-index="+i+" "+(a?'target="_blank"':"")+">").appendTo(this.mapEl)}function _(t,e,i,r){t===u&&(t=f);var n=s(document.createElementNS(C,t)),h=s(document.createElementNS(C,"g"));k.call(this,e,n);var o="default";if(this.isEditMode?o="move":""!==i&&(o="pointer"),this.setShapeStyle({cursor:o}),n.css(this.shapeStyle),t===c&&n.css({"fill-opacity":"","stroke-opacity":""}),n.attr("data-index",r),h.append(n),this.setShapeElement(n),this.isEditMode&&"text"!==t){var p=function(t,e,a){var i=M(t,e),r=i.map((function(){var t=s(document.createElementNS(C,"rect"));return t.attr("data-index",a).css({fill:"#ffffff",stroke:"#000000","stroke-width":2}),t}));return T(i,r),r}(t,e,r);h.append.apply(h,a(p)),this.setVertexElements(p)}return h}function k(t,e,a){e=e||this.shapeEl;var s=a?a.type:this.shapeType;s===o||s===d?(e.attr({x:t[0],y:t[1],class:r}),t[2]&&e.attr("width",t[2]-t[0]),t[3]&&e.attr("height",t[3]-t[1]),s===d&&(e.get(0).setAttributeNS(E,"href",a?a.href:this.shapeImageUrl),e.get(0).setAttribute("preserveAspectRatio","none"))):s===p?(e.attr({cx:t[0],cy:t[1],class:r}),t[2]&&e.attr("r",t[2])):s===l?(e.attr({cx:t[0],cy:t[1],class:r}),t[2]&&e.attr("rx",t[2]),t[3]&&e.attr("ry",t[3])):s===c&&(e.attr({x:t[0],y:t[1],"font-size":t[2],class:r}),e.text(a&&a.text||this.shapeText))}function N(){var t=this.shapeEl,e=t.get(0).getBBox().width/2,a=.5*Number.parseFloat(t.attr("font-size"))/2,s=Number.parseInt(t.attr("x"))-e,i=Number.parseInt(t.attr("y"))+a;this.updateShapeInfo(t.data("index"),{coords:[s,i,t.attr("font-size")]}),t.attr({x:s,y:i})}function T(t,e,a){t.forEach((function(t,a){s(e[a]).attr({x:t.x-3,y:t.y-3,width:7,height:7,"data-direction":t.type,class:n}).css("cursor",t.type+"-resize")}))}function M(t,e){var a=[];return t===o||t===d?a=[{x:e[0],y:e[1],type:"nw"},{x:e[0],y:e[3],type:"sw"},{x:e[2],y:e[1],type:"ne"},{x:e[2],y:e[3],type:"se"},{x:(e[2]-e[0])/2+e[0],y:e[1],type:"n"},{x:(e[2]-e[0])/2+e[0],y:e[3],type:"s"},{x:e[0],y:(e[3]-e[1])/2+e[1],type:"w"},{x:e[2],y:(e[3]-e[1])/2+e[1],type:"e"}]:t===p?a=[{x:e[0],y:e[1]-e[2],type:"n"},{x:e[0],y:e[1]+e[2],type:"s"},{x:e[0]-e[2],y:e[1],type:"w"},{x:e[0]+e[2],y:e[1],type:"e"}]:t===l&&(a=[{x:e[0],y:e[1]-e[3],type:"n"},{x:e[0],y:e[1]+e[3],type:"s"},{x:e[0]-e[2],y:e[1],type:"w"},{x:e[0]+e[2],y:e[1],type:"e"}]),a}function A(t,e,a){var s=this.svgEl.find('._shape_face[data-index="'+e.data("index")+'"]');(a=a||this.shapeType)===c?t=function(t){var e=Number.parseFloat(t.attr("x")),a=Number.parseFloat(t.attr("y")),s=t.get(0).getBBox().width,i=.5*Number.parseFloat(t.attr("font-size"))/2;return[e,a-i,e+s,a]}(s):a===l&&(t=[t[0],t[1],x[2]]),e.attr("coords",t.join(","))}function U(t){var e=t.originalEvent.touches[0];this.touchStartCoords.x=e.pageX,this.touchStartCoords.y=e.pageY}function L(t){var e=s(t.currentTarget);if("area"!==t.currentTarget.tagName.toLowerCase()){if(t.preventDefault(),this.dragInfo.face.x&&this.dragInfo.face.x!==t.pageX||this.dragInfo.face.y&&this.dragInfo.face.y!==t.pageY||"svg"===t.target.tagName.toLowerCase()||"touchend"===t.type&&t.originalEvent.changedTouches[0].pageX!==this.touchStartCoords.x&&t.originalEvent.changedTouches[0].pageY!==this.touchStartCoords.y)return;var a=s(t.target).attr("data-index");"#"!==(e=this.mapEl.find('area[data-index="'+a+'"]')).attr("href")&&window.open(e.attr("href"))}this.options.onClick.call(this,t,e.attr("href"))}function z(t){if(t.preventDefault(),"svg"!==t.target.tagName.toLowerCase()){var e=s(t.target),a=e.attr("data-index"),i=this.getShapeInfo(a),r=e.parent().find(":first-child"),n=[],h=r.get(0).tagName.toLowerCase();if(h===o||h===d){var f=Number.parseInt(r.attr("x")),y=Number.parseInt(r.attr("y"));n=[f,y,f+Number.parseInt(r.attr("width")),y+Number.parseInt(r.attr("height"))],h===d&&this.setImageShape(r.attr("href"))}else if(h===p){n=[Number.parseInt(r.attr("cx")),Number.parseInt(r.attr("cy")),Number.parseInt(r.attr("r"))]}else if(h===l){n=[Number.parseInt(r.attr("cx")),Number.parseInt(r.attr("cy")),Number.parseInt(r.attr("rx")),Number.parseInt(r.attr("ry"))]}else if(h===c){n=[Number.parseFloat(r.attr("x")),Number.parseFloat(r.attr("y")),Number.parseFloat(r.attr("font-size"))],this.shapeText=r.text()}else h===m&&(h=u);if(this.setShapeType(h),this.setShapeElement(r),this.setShapeCoords(n),h!==c){r.attr("data-fill",r.css("fill")),r.css("fill","#ffffff"),this.setVertexCoords(M(h,n));var v=[];this.mapEl.find('._shape_vertex[data-index="'+a+'"]').each((function(){v.push(s(this))})),this.setVertexElements(v)}e.is("._shape_face")?(this.grabType="face",H.call(this,e,t.pageX,t.pageY)):e.is("._shape_vertex")&&(this.grabType="vertex",D.call(this,e,a)),this.attachEvents(this.mapEl.parent(),[{type:"mouseup",handler:j},{type:"mousemove",handler:F}]),this.options.onSelect.call(this,t,i),this.options.onMouseDown.call(this,t,h,n)}}function j(t){var e=s(t.target),a=this.shapeEl;a.css("fill",a.attr("data-fill")),e.attr("data-movable",!1);var i=Y.call(this);this.setShapeCoords(i),this.updateShapeInfo(a.data("index"),{coords:i}),this.detachEvents(this.mapEl.parent(),[{type:"mouseup",handler:j},{type:"mousemove",handler:F}]),this.options.onMouseUp.call(this,t,this.shapeType,i)}function F(t){var a=s(t.target),i=e(this.shapeCoords,2),r=i[0],n=i[1],h=this.grabType,o=this.shapeType,p={};if("face"===h||"vertex"===h){if("face"===h){var l=r+t.pageX,d=n+t.pageY;p=X.call(this,l-this.dragInfo.face.x,d-this.dragInfo.face.y)}else"vertex"===h&&(p=R.call(this,t.pageX-this.svgEl.offset().left,t.pageY-this.svgEl.offset().top));if(!p)return;o!==c&&(this.setVertexCoords(p.vertexCoords),T(p.vertexCoords,this.vertexEls,this.shapeType));var u=Number.parseInt(p.grabEl.attr("data-index"));k.call(this,p.movedCoords,this.svgEl.find('._shape_face[data-index="'+u+'"]')),A.call(this,p.movedCoords,this.mapEl.find('area[data-index="'+u+'"]')),(a.is("._shape_face")||a.is("._shape_vertex"))&&(Math.abs(this.dragInfo.face.x-t.pageX)<=1||Math.abs(this.dragInfo.face.y-t.pageY)<=1)&&this.svgEl.append(a.parent()),this.options.onMouseMove.call(this,t,o,p.movedCoords)}}function V(t){var e=this.container.width(),a=this.container.height();this.containerWidth===e&&this.containerHeight===a||B.call(this,e,a)}function W(t){var e=this,a=t[0],s=t.length<2?a:t[1],i=.01*a*this.container.width(),r=.01*s*this.container.height();this.container.css({width:i+"px",height:r+"px"}),setTimeout((function(){e.svgEl&&e.svgEl.length>0&&B.call(e,i,r)}))}function B(t,e){var a=this,i=this.allShapeInfo,r=t/this.containerWidth,n=e/this.containerHeight,h=this.container.position();this.svgEl.get(0).setAttribute("width",t),this.svgEl.get(0).setAttribute("height",e),this.svgEl.css({top:h.top,left:h.left}),s.each(i,(function(t,e){e.coords=P(e.coords,e.type,r,n),T(M(e.type,e.coords),a.svgEl.find('._shape_vertex[data-index="'+e.index+'"]'),e.type),k.call(a,e.coords,a.svgEl.find('._shape_face[data-index="'+e.index+'"]'),e),A.call(a,e.coords,a.mapEl.find('area[data-index="'+e.index+'"]'),e.type)})),this.containerWidth=t,this.containerHeight=e}function H(t,e,a){this.dragInfo.face.x=e,this.dragInfo.face.y=a,t.attr("data-movable",!0)}function X(t,e){var a=this.shapeEl;if("false"!==a.attr("data-movable")){var s=[],i=[],r=this.shapeType;if(r===o||r===d){var n=Number.parseInt(a.attr("width")),h=Number.parseInt(a.attr("height"));i=M(o,s=[t,e,t+n,e+h])}else r===p?(s=[t,e,Number.parseInt(a.attr("r"))],i=M(p,s)):r===l?(s=[t,e,Number.parseInt(a.attr("rx")),Number.parseInt(a.attr("ry"))],i=M(l,s)):r===c&&(s=[t,e]);return{movedCoords:s,vertexCoords:i,grabEl:a}}}function Y(){var t=this.shapeEl,e=this.shapeType,a=[];if(e===o||e===d){var s=Number.parseInt(t.attr("x")),i=Number.parseInt(t.attr("y"));a=[s,i,s+Number.parseInt(t.attr("width")),i+Number.parseInt(t.attr("height"))]}else e===p?a=[Number.parseInt(t.attr("cx")),Number.parseInt(t.attr("cy")),Number.parseInt(t.attr("r"))]:e===l?a=[Number.parseInt(t.attr("cx")),Number.parseInt(t.attr("cy")),Number.parseInt(t.attr("rx")),Number.parseInt(t.attr("ry"))]:e===c&&(a=[Number.parseInt(t.attr("x")),Number.parseInt(t.attr("y"))]);return a}function D(t,e){this.setVertexElement(t);var a=0;this.vertexEls.forEach((function(e,s){t.get(0)===e.get(0)&&(a=s)}));var s=this.vertexCoords[a];this.dragInfo.vertex.x=s.x,this.dragInfo.vertex.y=s.y,t.attr("data-movable",!0)}function R(t,e){if("false"!==this.vertexEl.attr("data-movable")){var a=[],s=this.shapeType,i=this.vertexEl.attr("data-direction");if(s===o||s===d)switch(i){case"nw":a=O.call(this,[t,e,this.shapeCoords[2],this.shapeCoords[3]],i);break;case"sw":a=O.call(this,[t,this.shapeCoords[1],this.shapeCoords[2],e],i);break;case"ne":a=O.call(this,[this.shapeCoords[0],e,t,this.shapeCoords[3]],i);break;case"se":a=O.call(this,[this.shapeCoords[0],this.shapeCoords[1],t,e],i);break;case"n":a=O.call(this,[this.shapeCoords[0],e,this.shapeCoords[2],this.shapeCoords[3]],i);break;case"s":a=O.call(this,[this.shapeCoords[0],this.shapeCoords[1],this.shapeCoords[2],e],i);break;case"w":a=O.call(this,[t,this.shapeCoords[1],this.shapeCoords[2],this.shapeCoords[3]],i);break;case"e":a=O.call(this,[this.shapeCoords[0],this.shapeCoords[1],t,this.shapeCoords[3]],i);break;default:console.warn("Unexpected direction",i)}else if(s===p)switch(i){case"n":a=[this.shapeCoords[0],this.shapeCoords[1],q.call(this,this.shapeCoords[1]-e)];break;case"s":a=[this.shapeCoords[0],this.shapeCoords[1],q.call(this,e-this.shapeCoords[1])];break;case"w":a=[this.shapeCoords[0],this.shapeCoords[1],q.call(this,this.shapeCoords[0]-t)];break;case"e":a=[this.shapeCoords[0],this.shapeCoords[1],q.call(this,t-this.shapeCoords[0])];break;default:console.warn("Unexpected direction",i)}else if(s===l)switch(i){case"n":a=[this.shapeCoords[0],this.shapeCoords[1],this.shapeCoords[2],q.call(this,this.shapeCoords[1]-e)];break;case"s":a=[this.shapeCoords[0],this.shapeCoords[1],this.shapeCoords[2],q.call(this,e-this.shapeCoords[1])];break;case"w":a=[this.shapeCoords[0],this.shapeCoords[1],q.call(this,this.shapeCoords[0]-t),this.shapeCoords[3]];break;case"e":a=[this.shapeCoords[0],this.shapeCoords[1],q.call(this,t-this.shapeCoords[0]),this.shapeCoords[3]];break;default:console.warn("Unexpected direction",i)}return{movedCoords:a,vertexCoords:M(s,a),grabEl:this.vertexEl}}}function O(t,a){var s=e(t,4),i=s[0],r=s[1],n=s[2],h=s[3];return n-i<=this.shapeLimitCoords.x&&("se"!==a&&"ne"!==a&&"e"!==a||(n=i+this.shapeLimitCoords.x),"nw"!==a&&"sw"!==a&&"w"!==a||(i=n-this.shapeLimitCoords.x)),h-r<=this.shapeLimitCoords.y&&("se"!==a&&"sw"!==a&&"s"!==a||(h=r+this.shapeLimitCoords.y),"nw"!==a&&"ne"!==a&&"n"!==a||(r=h-this.shapeLimitCoords.y)),[i,r,n,h]}function q(t){return t<=this.shapeLimitCoords.radius?this.shapeLimitCoords.radius:t}function P(t,e,a,s){var i=[];if(e===o||e===d||e===l)i=[t[0]*a,t[1]*s,t[2]*a,t[3]*s];else if(e===p){var r;r=a>=s?s:a,1===a&&(r=s),1===s&&(r=a),i=[t[0]*a,t[1]*s,t[2]*r]}else e===c&&(i=[t[0]*a,t[1]*s,t[2]*a]);return i}return i.getCoordsByRatio=P,s.fn.extend({createMaps:function(t,e){return this.data("image_maps_inst").createMaps(t,e),this},copyImageMapsTo:function(t){return s.imageMaps.copyImageMaps({shapes:this.getAllShapes(),width:this.width(),height:this.height()},t),this},addShape:function(t,e,a){return this.data("image_maps_inst").addShape(t,e,a),this},removeShape:function(t){return this.data("image_maps_inst").removeShape(t),this},removeAllShapes:function(){return this.data("image_maps_inst").removeAllShapes(),this},destroy:function(){var t=this.data("image_maps_inst");t&&(t.removeImageMaps(),this.data("image_maps_inst",null))},setShapeStyle:function(t){return this.data("image_maps_inst").setShapeStyle(t),this},setUrl:function(t,e){return this.data("image_maps_inst").setUrl(t,e),this},setTextShape:function(t,e){return this.data("image_maps_inst").setTextShape(t,e),this},setImageShape:function(t,e){return this.data("image_maps_inst").setImageShape(t,e),this},enableClick:function(){this.data("image_maps_inst").enableClick()},disableClick:function(){this.data("image_maps_inst").disableClick()},getAllShapes:function(){return this.data("image_maps_inst").getAllShapesInfo()},getCoordsByRatio:function(t,e,a,s){return i.getCoordsByRatio(t,e,a,s)},zoom:function(t){this.data("image_maps_inst").zoom(t)}}),s.imageMaps={copyImageMaps:function(t,e){var a=t.shapes,i=t.width,r=t.height;e.removeAllShapes(),s.each(a,(function(t,a){e.setShapeStyle(a.style),a.href&&e.setImageShape(a.href),a.text&&e.setTextShape(a.text);var s=i,n=r,h=P(a.coords,a.type,e.width()/s,e.height()/n);e.addShape(h,a.url,a.type)}))}},s.fn.imageMaps=function(t){if(1===this.length){if(!this.data("image_maps_inst")){var e=new i(this,t);return this.data("image_maps_inst",e),e}return this.data("image_maps_inst")}if(this.length>1)throw new Error("imageMaps instance has already been created.")},s}}));
//# sourceMappingURL=index.umd.min.js.map
